{"pageProps":{"post":{"id":"E50cxoOmSOCozEhAyehymQ","title":"shell scipt 單引號雙引號差異","content":"<p>其實這篇沒啥內容，就只是用 shell script 時發現一些神奇的小細節(?)</p>\n<p>在使用變數的時候要注意一下，可以看下面例子</p>\n<pre><code class=\"language-shell\"><button class=\"btn copy-snippet-button position-absolute top-1 right-1\"><i class=\"fas fa-clipboard\"></i><i class=\"fas fa-check\"></i><svg aria-hidden=\"true\" role=\"img\" class=\"StyledOcticon-uhnt7w-0 iIOaoH\" viewBox=\"0 0 16 16\" width=\"16\" height=\"16\" fill=\"currentColor\" style=\"display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible\"><path fill-rule=\"evenodd\" d=\"M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z\"></path><path fill-rule=\"evenodd\" d=\"M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z\"></path></svg></button><table class=\"fence-wrapper\"><tbody><tr><td class=\"hljs-line-number\" data-line-number=1></td><td class=\"hljs-line\" id=\"LC1\"><span class=\"hljs-meta\">$ </span><span class=\"language-bash\"><span class=\"hljs-built_in\">let</span> <span class=\"hljs-built_in\">test</span>=1</span></td></tr><tr><td class=\"hljs-line-number\" data-line-number=2></td><td class=\"hljs-line\" id=\"LC2\"><span class=\"hljs-meta\">$ </span><span class=\"language-bash\"><span class=\"hljs-built_in\">echo</span> <span class=\"hljs-string\">&quot;<span class=\"hljs-variable\">$test</span>&quot;</span></span></td></tr><tr><td class=\"hljs-line-number\" data-line-number=3></td><td class=\"hljs-line\" id=\"LC3\"><span class=\"hljs-meta\">&gt; </span><span class=\"language-bash\">1</span></td></tr><tr><td class=\"hljs-line-number\" data-line-number=4></td><td class=\"hljs-line\" id=\"LC4\"><span class=\"hljs-meta\">$ </span><span class=\"language-bash\"><span class=\"hljs-built_in\">echo</span> <span class=\"hljs-string\">&#x27;$test&#x27;</span></span></td></tr><tr><td class=\"hljs-line-number\" data-line-number=5></td><td class=\"hljs-line\" id=\"LC5\"><span class=\"hljs-meta\">&gt; </span><span class=\"language-bash\"><span class=\"hljs-variable\">$test</span></span></td></tr></tbody></table></code></pre>\n<p>發現使用單引號沒辦法正確的顯示 <code>test</code> 的變數內容\n於是就去查了一下 bash manual 如下:</p>\n<ul>\n<li>3.1.2.2 Single Quotes</li>\n</ul>\n<blockquote>\n<p>Enclosing characters in single quotes (‘'’) preserves the literal value of each character within the quotes. A single quote may not occur between single quotes, even when preceded by a backslash.</p>\n</blockquote>\n<ul>\n<li>3.1.2.3 Double Quotes</li>\n</ul>\n<blockquote>\n<p>Enclosing characters in double quotes (‘“’) preserves the literal value of all characters within the quotes, with the exception of ‘$’, ‘`’, ‘\\’, and, when history expansion is enabled, ‘!’. When the shell is in POSIX mode (see Bash POSIX Mode), the ‘!’ has no special meaning within double quotes, even when history expansion is enabled. The characters ‘$’ and ‘`’ retain their special meaning within double quotes (see Shell Expansions). The backslash retains its special meaning only when followed by one of the following characters: ‘$’, ‘`’, ‘”’, ‘\\’, or newline. Within double quotes, backslashes that are followed by one of these characters are removed. Backslashes preceding characters without a special meaning are left unmodified. A double quote may be quoted within double quotes by preceding it with a backslash. If enabled, history expansion will be performed unless an ‘!’ appearing in double quotes is escaped using a backslash. The backslash preceding the ‘!’ is not removed.</p>\n</blockquote>\n<p>從上面可以知道特殊字元 <code>$</code> 和 <code>`</code> 需要再雙引號下才會有用。</p>\n<h2 id=\"reference\" tabindex=\"-1\"><a class=\"anchor\" href=\"#reference\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a> reference</h2>\n<ol>\n<li><a href=\"https://www.gnu.org/savannah-checkouts/gnu/bash/manual/bash.html\">bash manual</a></li>\n<li><a href=\"https://stackoverflow.com/questions/6697753/difference-between-single-and-double-quotes-in-bash\">stackoverflow</a></li>\n</ol>\n","slug":"E50cxoOmSOCozEhAyehymQ","tags":["shell"],"createdAt":"2021-12-21T04:30:19.158Z","lastchangeAt":"2021-12-22T16:48:54.959Z"}},"__N_SSG":true}