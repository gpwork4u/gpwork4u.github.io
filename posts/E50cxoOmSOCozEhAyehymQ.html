<!DOCTYPE html><html lang="en"><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><link rel="apple-touch-icon" sizes="180x180" href="/favicons/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png"/><link rel="manifest" href="/favicons/site.webmanifest"/><link rel="mask-icon" href="/favicons/safari-pinned-tab.svg" color="#000000"/><link rel="shortcut icon" href="/favicons/favicon.ico"/><meta name="msapplication-TileColor" content="#000000"/><meta name="msapplication-config" content="/favicons/browserconfig.xml"/><meta name="theme-color" content="#000"/><link rel="alternate" type="application/rss+xml" href="/feed.xml"/><meta name="description" content="A statically generated blog example using Next.js and Markdown."/><meta property="og:image" content="https://og-image.vercel.app/Next.js%20Blog%20Starter%20Example.png?theme=light&amp;md=1&amp;fontSize=100px&amp;images=https%3A%2F%2Fassets.vercel.com%2Fimage%2Fupload%2Ffront%2Fassets%2Fdesign%2Fnextjs-black-logo.svg"/><title>shell scipt 單引號雙引號差異 | Next.js Blog Example with Markdown</title><meta name="next-head-count" content="15"/><link rel="preload" href="./_next/static/css/26d9792b08384c23.css" as="style"/><link rel="stylesheet" href="./_next/static/css/26d9792b08384c23.css" data-n-g=""/><link rel="preload" href="./_next/static/css/e1f6961df2961232.css" as="style"/><link rel="stylesheet" href="./_next/static/css/e1f6961df2961232.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="./_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="./_next/static/chunks/webpack-e644fd861cfeb188.js" defer=""></script><script src="./_next/static/chunks/framework-91d7f78b5b4003c8.js" defer=""></script><script src="./_next/static/chunks/main-eab312c0bf2a7270.js" defer=""></script><script src="./_next/static/chunks/pages/_app-15324dda0efa5c5e.js" defer=""></script><script src="./_next/static/chunks/439-cd1d0daaccf34adc.js" defer=""></script><script src="./_next/static/chunks/pages/posts/%5Bslug%5D-15b1f38aaaed072f.js" defer=""></script><script src="./_next/static/XcKOrB1NMD1fUu3XZ_IH0/_buildManifest.js" defer=""></script><script src="./_next/static/XcKOrB1NMD1fUu3XZ_IH0/_ssgManifest.js" defer=""></script><script src="./_next/static/XcKOrB1NMD1fUu3XZ_IH0/_middlewareManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><div class="min-h-screen"><div class="border-b bg-accent-1 border-accent-2"><div class="container mx-auto px-5"><div class="py-2 text-center text-sm">The source code for this blog is<!-- --> <a href="https://github.com/vercel/next.js/tree/canary/examples/blog-starter" class="underline hover:text-success duration-200 transition-colors">available on GitHub</a>.</div></div></div><main><div class="container mx-auto px-5"><h2 class="text-2xl md:text-4xl font-bold tracking-tight md:tracking-tighter leading-tight mb-20 mt-8"><a class="hover:underline" href="/">Blog</a>.</h2><article class="mb-32"><h1 class="text-6xl md:text-7xl lg:text-8xl font-bold tracking-tighter leading-tight md:leading-none mb-12 text-center md:text-left">shell scipt 單引號雙引號差異</h1><div class="max-w-2xl mx-auto"><div class="mb-6 text-lg"><time dateTime="2021-12-21T04:30:19.158Z">December	21, 2021</time></div></div><div class="max-w-2xl mx-auto"><div class="markdown-styles_markdown__h_8de"><p>其實這篇沒啥內容，就只是用 shell script 時發現一些神奇的小細節(?)</p>
<p>在使用變數的時候要注意一下，可以看下面例子</p>
<pre><code class="language-shell"><button class="btn copy-snippet-button position-absolute top-1 right-1"><i class="fas fa-clipboard"></i><i class="fas fa-check"></i></button><table class="fence-wrapper"><tbody><tr><td class="hljs-line-number" data-line-number=1></td><td class="hljs-line" id="LC1"><span class="hljs-meta">$ </span><span class="language-bash"><span class="hljs-built_in">let</span> <span class="hljs-built_in">test</span>=1</span></td></tr><tr><td class="hljs-line-number" data-line-number=2></td><td class="hljs-line" id="LC2"><span class="hljs-meta">$ </span><span class="language-bash"><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;<span class="hljs-variable">$test</span>&quot;</span></span></td></tr><tr><td class="hljs-line-number" data-line-number=3></td><td class="hljs-line" id="LC3"><span class="hljs-meta">&gt; </span><span class="language-bash">1</span></td></tr><tr><td class="hljs-line-number" data-line-number=4></td><td class="hljs-line" id="LC4"><span class="hljs-meta">$ </span><span class="language-bash"><span class="hljs-built_in">echo</span> <span class="hljs-string">&#x27;$test&#x27;</span></span></td></tr><tr><td class="hljs-line-number" data-line-number=5></td><td class="hljs-line" id="LC5"><span class="hljs-meta">&gt; </span><span class="language-bash"><span class="hljs-variable">$test</span></span></td></tr></tbody></table></code></pre>
<p>發現使用單引號沒辦法正確的顯示 <code>test</code> 的變數內容
於是就去查了一下 bash manual 如下:</p>
<ul>
<li>3.1.2.2 Single Quotes</li>
</ul>
<blockquote>
<p>Enclosing characters in single quotes (‘'’) preserves the literal value of each character within the quotes. A single quote may not occur between single quotes, even when preceded by a backslash.</p>
</blockquote>
<ul>
<li>3.1.2.3 Double Quotes</li>
</ul>
<blockquote>
<p>Enclosing characters in double quotes (‘“’) preserves the literal value of all characters within the quotes, with the exception of ‘$’, ‘`’, ‘\’, and, when history expansion is enabled, ‘!’. When the shell is in POSIX mode (see Bash POSIX Mode), the ‘!’ has no special meaning within double quotes, even when history expansion is enabled. The characters ‘$’ and ‘`’ retain their special meaning within double quotes (see Shell Expansions). The backslash retains its special meaning only when followed by one of the following characters: ‘$’, ‘`’, ‘”’, ‘\’, or newline. Within double quotes, backslashes that are followed by one of these characters are removed. Backslashes preceding characters without a special meaning are left unmodified. A double quote may be quoted within double quotes by preceding it with a backslash. If enabled, history expansion will be performed unless an ‘!’ appearing in double quotes is escaped using a backslash. The backslash preceding the ‘!’ is not removed.</p>
</blockquote>
<p>從上面可以知道特殊字元 <code>$</code> 和 <code>`</code> 需要再雙引號下才會有用。</p>
<h2 id="reference" tabindex="-1"><a class="anchor" href="#reference"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a> reference</h2>
<ol>
<li><a href="https://www.gnu.org/savannah-checkouts/gnu/bash/manual/bash.html">bash manual</a></li>
<li><a href="https://stackoverflow.com/questions/6697753/difference-between-single-and-double-quotes-in-bash">stackoverflow</a></li>
</ol>
</div></div></article></div></main></div><footer class="bg-accent-1 border-t border-accent-2"><div class="container mx-auto px-5"><div class="py-28 flex flex-col lg:flex-row items-center"><h3 class="text-4xl lg:text-5xl font-bold tracking-tighter leading-tight text-center lg:text-left mb-10 lg:mb-0 lg:pr-4 lg:w-1/2">Statically Generated with Next.js.</h3><div class="flex flex-col lg:flex-row justify-center items-center lg:pl-4 lg:w-1/2"><a href="https://nextjs.org/docs/basic-features/pages" class="mx-3 bg-black hover:bg-white hover:text-black border border-black text-white font-bold py-3 px-12 lg:px-8 duration-200 transition-colors mb-6 lg:mb-0">Read Documentation</a><a href="https://github.com/vercel/next.js/tree/canary/examples/blog-starter" class="mx-3 font-bold hover:underline">View on GitHub</a></div></div></div></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"id":"E50cxoOmSOCozEhAyehymQ","title":"shell scipt 單引號雙引號差異","content":"\u003cp\u003e其實這篇沒啥內容，就只是用 shell script 時發現一些神奇的小細節(?)\u003c/p\u003e\n\u003cp\u003e在使用變數的時候要注意一下，可以看下面例子\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-shell\"\u003e\u003cbutton class=\"btn copy-snippet-button position-absolute top-1 right-1\"\u003e\u003ci class=\"fas fa-clipboard\"\u003e\u003c/i\u003e\u003ci class=\"fas fa-check\"\u003e\u003c/i\u003e\u003c/button\u003e\u003ctable class=\"fence-wrapper\"\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd class=\"hljs-line-number\" data-line-number=1\u003e\u003c/td\u003e\u003ctd class=\"hljs-line\" id=\"LC1\"\u003e\u003cspan class=\"hljs-meta\"\u003e$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003e\u003cspan class=\"hljs-built_in\"\u003elet\u003c/span\u003e \u003cspan class=\"hljs-built_in\"\u003etest\u003c/span\u003e=1\u003c/span\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd class=\"hljs-line-number\" data-line-number=2\u003e\u003c/td\u003e\u003ctd class=\"hljs-line\" id=\"LC2\"\u003e\u003cspan class=\"hljs-meta\"\u003e$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003e\u003cspan class=\"hljs-built_in\"\u003eecho\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;\u003cspan class=\"hljs-variable\"\u003e$test\u003c/span\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd class=\"hljs-line-number\" data-line-number=3\u003e\u003c/td\u003e\u003ctd class=\"hljs-line\" id=\"LC3\"\u003e\u003cspan class=\"hljs-meta\"\u003e\u0026gt; \u003c/span\u003e\u003cspan class=\"language-bash\"\u003e1\u003c/span\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd class=\"hljs-line-number\" data-line-number=4\u003e\u003c/td\u003e\u003ctd class=\"hljs-line\" id=\"LC4\"\u003e\u003cspan class=\"hljs-meta\"\u003e$ \u003c/span\u003e\u003cspan class=\"language-bash\"\u003e\u003cspan class=\"hljs-built_in\"\u003eecho\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026#x27;$test\u0026#x27;\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd class=\"hljs-line-number\" data-line-number=5\u003e\u003c/td\u003e\u003ctd class=\"hljs-line\" id=\"LC5\"\u003e\u003cspan class=\"hljs-meta\"\u003e\u0026gt; \u003c/span\u003e\u003cspan class=\"language-bash\"\u003e\u003cspan class=\"hljs-variable\"\u003e$test\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e發現使用單引號沒辦法正確的顯示 \u003ccode\u003etest\u003c/code\u003e 的變數內容\n於是就去查了一下 bash manual 如下:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e3.1.2.2 Single Quotes\u003c/li\u003e\n\u003c/ul\u003e\n\u003cblockquote\u003e\n\u003cp\u003eEnclosing characters in single quotes (‘'’) preserves the literal value of each character within the quotes. A single quote may not occur between single quotes, even when preceded by a backslash.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cul\u003e\n\u003cli\u003e3.1.2.3 Double Quotes\u003c/li\u003e\n\u003c/ul\u003e\n\u003cblockquote\u003e\n\u003cp\u003eEnclosing characters in double quotes (‘“’) preserves the literal value of all characters within the quotes, with the exception of ‘$’, ‘`’, ‘\\’, and, when history expansion is enabled, ‘!’. When the shell is in POSIX mode (see Bash POSIX Mode), the ‘!’ has no special meaning within double quotes, even when history expansion is enabled. The characters ‘$’ and ‘`’ retain their special meaning within double quotes (see Shell Expansions). The backslash retains its special meaning only when followed by one of the following characters: ‘$’, ‘`’, ‘”’, ‘\\’, or newline. Within double quotes, backslashes that are followed by one of these characters are removed. Backslashes preceding characters without a special meaning are left unmodified. A double quote may be quoted within double quotes by preceding it with a backslash. If enabled, history expansion will be performed unless an ‘!’ appearing in double quotes is escaped using a backslash. The backslash preceding the ‘!’ is not removed.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003e從上面可以知道特殊字元 \u003ccode\u003e$\u003c/code\u003e 和 \u003ccode\u003e`\u003c/code\u003e 需要再雙引號下才會有用。\u003c/p\u003e\n\u003ch2 id=\"reference\" tabindex=\"-1\"\u003e\u003ca class=\"anchor\" href=\"#reference\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e reference\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003e\u003ca href=\"https://www.gnu.org/savannah-checkouts/gnu/bash/manual/bash.html\"\u003ebash manual\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://stackoverflow.com/questions/6697753/difference-between-single-and-double-quotes-in-bash\"\u003estackoverflow\u003c/a\u003e\u003c/li\u003e\n\u003c/ol\u003e\n","slug":"E50cxoOmSOCozEhAyehymQ","tags":["shell"],"createdAt":"2021-12-21T04:30:19.158Z","lastchangeAt":"2021-12-22T16:48:54.959Z"}},"__N_SSG":true},"page":"/posts/[slug]","query":{"slug":"E50cxoOmSOCozEhAyehymQ"},"buildId":"XcKOrB1NMD1fUu3XZ_IH0","assetPrefix":".","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>